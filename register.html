<!DOCTYPE html>
<html>
    <head>
        <meta charset="UTF-8">
        <link rel="icon" href="./img/icon.ico" type="image/x-icon"/> <!--icon-->
        <link rel="stylesheet" type="text/css" href="./css/headline.css"> 
        <link rel="stylesheet" type="text/css" href="./css/register.css"> 
        
        <script src="./js/jquery-3.3.1.js"></script>  
        <script type="text/javascript" src="./js/headline_for_html.js">
        </script>
      
        <script type="text/javascript">
            
            //validate all the input
            function validate(){
	           if ($("#name").val()==""){
                   alert("Please enter your full name.");
                   return false;
	           }
                else if (!/[A-Za-z/s]$/.test($("#name").val())) {
                    alert("Wrong name format.");
                    return false;   
                }
                else if($("#IDnumber").val()=="") {
                    alert("Please enter your ID number.");
                    return false;
                }
                else if (!/^US[0-9]{4}$/.test($("#IDnumber").val()) && !/^UE[0-9]{4}$/.test($("#IDnumber").val())) {
                    alert("Wrong ID number format.");
                    return false;
                }  
               else if( !/^[A-Za-z0-9\!\#\$\%\&\'\*\+\-\/\=\?\^\_\`\{\|\}\~\;]+[A-Za-z0-9\!\#\$\%\&\'\*\+\-\/\=\?\^\_\`\{\|\}\~\;\.]*[A-Za-z0-9\!\#\$\%\&\'\*\+\-\/\=\?\^\_\`\{\|\}\~\;]@([A-Za-z0-9/-]+[.])+[A-Za-z0-9/-]{1,}$/.test($("#email").val()) || /([\S]{65,})@([\S])/.test($("#email").val()) || /([\S])@([\S]{256,})/.test($("#email").val()) || /([\.])\1/.test($("#email").val().match(/(\S*)@/)[1]) ) {
                    alert("Wrong format of email"); 
                    return false;
                }  
                else if($("#phonenumber").val()=="") {
                    alert("Please enter your Phone number."); 
                    return false;
                }  
                else if (/([^0-9])/.test($("#phonenumber").val())) {
                    alert("Wrong phone number format."); 
                    return false;    
                }   
                else if($("#creditcard").val()=="") {     
                    alert("Please enter your Credit Card number."); 
                    return false;
                }
                else if (/([^0-9])/.test($("#creditcard").val())) {
                    alert("Wrong credit card format."); 
                    return false;   
                }
                else if ($("#password").val().length<6 || $("#password").val().length>12 ) {
                    alert("your password should within 6 to 12 characters.");
                    return false;   
                }    
                else if (!/([0-9])/.test($("#password").val()) || !/([a-z])/.test($("#password").val()) || !/([A-Z])/.test($("#password").val())|| !/([\!\#\$\~])/.test($("#password").val())) {
                    alert("your password should contain at least 1 lower case letter, 1 uppercase letter, 1 number and one of the following special characters ~ ! # $ .");
                    return false;   
                }

	           else if ($("#password").val()!= $("#confirm_password").val()) {
                   alert("Password does not match.");
                   return false;	
	           }
            
                return true;
            }
        
    $(document).ready(function(){
        
        //show hint when user input thier information
        $("#signupform").on("input",function() {
            
            if ($("#name").val()=="" || !/[A-Za-z/s]$/.test($("#name").val())){
                
            $("#name").parent().find(".hint_wrong, .hint_right").remove();
               $("#name").after("<span  class='hint_wrong'>✘");
            } 
            else  {
                $("#name").parent().find(".hint_wrong, .hint_right").remove();
                $("#name").after("<span  class='hint_right'>✔</span>");
            }
            
            if($("#IDnumber").val()=="" || !/^US[0-9]{4}$/.test($("#IDnumber").val()) && !/^UE[0-9]{4}$/.test($("#IDnumber").val())) {
                $("#IDnumber").parent().find(".hint_wrong, .hint_right").remove();
                $("#IDnumber").after("<span  class='hint_wrong'>✘ UE/USnnnn");
            } 
            else  {
                $("#IDnumber").parent().find(".hint_wrong, .hint_right").remove();
                $("#IDnumber").after("<span  class='hint_right'>✔</span>");
            }   
            
            if( !/^[A-Za-z0-9\!\#\$\%\&\'\*\+\-\/\=\?\^\_\`\{\|\}\~\;]+[A-Za-z0-9\!\#\$\%\&\'\*\+\-\/\=\?\^\_\`\{\|\}\~\;\.]*[A-Za-z0-9\!\#\$\%\&\'\*\+\-\/\=\?\^\_\`\{\|\}\~\;]@([A-Za-z0-9/-]+[.])+[A-Za-z0-9/-]{1,}$/.test($("#email").val()) || /([\S]{65,})@([\S])/.test($("#email").val()) || /([\S])@([\S]{256,})/.test($("#email").val()) || /([\.])\1/.test($("#email").val().match(/(\S*)@/)[1]) ) {
               $("#email").parent().find(".hint_wrong, .hint_right").remove();
               $("#email").after("<span  class='hint_wrong'>✘ you@example.com</span>");
           } 
            else  {
                $("#email").parent().find(".hint_wrong, .hint_right").remove();
                $("#email").after("<span  class='hint_right'>✔</span>");
            }
            
            if($("#phonenumber").val()=="" || /([^0-9])/.test($("#phonenumber").val())) {
                $("#phonenumber").parent().find(".hint_wrong, .hint_right").remove();
                $("#phonenumber").after("<span  class='hint_wrong'>✘");
            } 
            else  {
                $("#phonenumber").parent().find(".hint_wrong, .hint_right").remove();
                $("#phonenumber").after("<span  class='hint_right'>✔</span>");
            }
            
            if($("#creditcard").val()=="" || /([^0-9])/.test($("#creditcard").val())) {
                $("#creditcard").parent().find(".hint_wrong, .hint_right").remove();
                $("#creditcard").after("<span  class='hint_wrong'>✘");
            } 
            else  {
                $("#creditcard").parent().find(".hint_wrong, .hint_right").remove();
                $("#creditcard").after("<span  class='hint_right'>✔</span>");
            } 
            
            
            if ($("#password").val().length<6 || $("#password").val().length>12 || !/([0-9])/.test($("#password").val()) || !/([a-z])/.test($("#password").val()) || !/([A-Z])/.test($("#password").val())|| !/([\!\#\$\~])/.test($("#password").val())  ) {
                
                $("#password,#confirm_password").parent().find(".hint_wrong, .hint_right").remove();
                $("#password,#confirm_password").after("<span  class='hint_wrong'>✘ 6﹤nCc(!#$~)﹤12");
            } 
            else  {
                $("#password,#confirm_password").parent().find(".hint_wrong, .hint_right").remove();
                $("#password,#confirm_password").after("<span  class='hint_right'>✔</span>");
            } 
            
            if ($("#password").val()!= $("#confirm_password").val()) {
                $("#confirm_password").parent().find(".hint_wrong, .hint_right").remove();
                $("#confirm_password").after("<span  class='hint_wrong'>✘ 6﹤nCc(!#$~)﹤12");
            }
            else {
                $("#confirm_password").parent().find(".hint_wrong, .hint_right").remove();
                $("#confirm_password").after("<span  class='hint_right'>✔</span>");
            }
            
        }); 
    });
    </script>
        
    <title>Register your account</title>
    </head>
    
    <body>
        
<!--Headers-->  
    <div class="header">
    <div id="headline">
        <ul>
            <li><a id="home" class="html" href="index.html">Home</a></li>
            
            <li><a id="cafe" href="javascript:void(0)">Café</a></li>  

            <li><a id="account" class="html" href="./account.html">Account</a></li>
            
            <li><a class="log" id="logbutton" href="#">LOGIN</a></li>
    
            <li><span class="log" id="tstring">|</span></li>
    
            <li><a class="log" id="tregister" href="register.html" target="_blank">REGISTER</a></li>
        </ul>
    </div>

 <!--a dropdown cafe menu-->   
    <div id="dropdown">  
        <form>
            <fieldset class="dropdown">
                <ul>
                    <li><a class="html" href="./php/Refcafe.php">Ref's café</a></li>
                    <li><a class="html" href="./php/Lazenbyscafe.php">Lazenbys 's café</a></li>
                    <li><a class="html" href="./php/tradetablecafe.php">Trade Table's café</a></li>
                    <li><a class="html" href="./php/Walkcafe.php">Walk's café</a></li>
                    <li><a class="html" href="./php/Grovecafe.php">Grove's café</a></li>
                </ul>
            </fieldset>
        </form>
    </div>
    
<!--dropdown login area-->    
    <div id="loginBox">                
        <form id="loginForm" method="post" action="./php/login.php" onsubmit="return loginbox_validation();">
            <fieldset id="logbody">
                <fieldset id="fid">
                    <label for="logid">ID</label>
				    <input type="text" name="logid" id="logid">
                </fieldset>
                                        
                <fieldset id="fpass">
                    <label for="logpassword">Password</label>
				    <input type="password" name="logpassword" id="logpassword">
                </fieldset>
                                        
                <fieldset id="login">
				    <input type="submit"  name="sign_in" value="Sign In">
                </fieldset>
                <a id="forget_password" href="./php/forget_password.php" >Forget password?</a>
            </fieldset>
        </form>
        
    </div>
    
    <!--dropdown login out area-->
    <div id="afterlogin">
        <form id="logoutForm" method="post" action="./php/login.php" >
            <fieldset id="flogout">
            <p>Welcome Y.E.O.M !</p>
            <input type="submit"  name="log_out" value="Log out">
            </fieldset>
        </form>
    </div> 
</div> 
 
        <!--TITLE-->
        <h1>New User?Create your account</h1>
        <h2>Only for students and staffs</h2>
        <br>
        <br>
        <br>
        <br>
        
        <!--regisration area-->
<form id="signupform" method="post" action="./php/register.php" onsubmit="return validate();">
	<fieldset id="signupfieldset">
		<legend>User Registration</legend>
		
		<p>
            <input type="text" id="name" name="name" placeholder="Full Name"/>
		</p>
		
        <p>
            <input type="text" name="IDnumber" id="IDnumber" placeholder="Student/Staff ID"/>
        </p>
        
        <p>
            <input id="email" name="email" placeholder="Email"/>
		</p>
        
        <p>
            <input id="phonenumber" name="phonenumber" placeholder="Mobile"/>
        </p>
        
        <p>
            <input id="creditcard" name="creditcard" placeholder="Credit Card"/>
        </p>
        
		<p>
            <input type="password" name="password" id="password" placeholder="Password"/>
        </p>
		
		<p>
		<input id="confirm_password" name="confirm_password" type="password" placeholder="Retype Password"/>
		</p>
        
		<p>
		<input id="submit" type="submit" name="submit" value="CREATE AN ACCOUNT">
		</p>
		
	</fieldset>
</form>
    </body>
</html>